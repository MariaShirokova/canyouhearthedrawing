(this["webpackJsonphear-draw-ts"]=this["webpackJsonphear-draw-ts"]||[]).push([[0],{101:function(e,n,t){"use strict";t(93);var o=t(95);t.d(n,"default",(function(){return o.a}))},123:function(e,n,t){e.exports=t(152)},129:function(e,n){},131:function(e,n){},151:function(e,n,t){},152:function(e,n,t){"use strict";t.r(n);var o,r,a=t(0),i=t.n(a),c=t(32),u=t.n(c),l=t(6),s=t(9),d=t(39),f={first:"?work=first",second:"aWR8Um5oRVFsWFczYlBkanVLUnlPUVRXfHZlcnNpb258MS4wLjB8dGl0bGV8ZHJhd2luZysjMXxiYWNrZ3JvdW5kQ29sb3J8cmVkfGdyZWVufGJsdWV8YWxwaGF8aHVlfHNhdHVyYXRpb258dmFsdWV8c3R5bGV8cmdiYSgxNSwrNDMsKzI1NSwrMC4zMil8c2hhcGVMaXN0fFhzT3Z5Y0wzcU5INERIbVZxVHZabnx0eXBlfGNvbG9yfHBvaW50c3xsZWZ0fHJhZGlhbHxkZWdyZWV8cmFkaWFsLWdyYWRpZW50KHJnYmEoMjU1LCsyNTUsKzI1NSwrMSkrMC41MTgxMzQ3MTUwMjU5MDY3JTI1LHJnYmEoMjU1LCswLCsxOTUsKzEpKzk2LjM3MzA1Njk5NDgxODY1JTI1KXx0cmFja3xTb3VuZFBhbGV0dGVLZXl8TWl4ZWR8c291bmRQb3NpdGlvbnx4fHl8c2hhcGVTY2hlbWV8Z254LWJjc0o5QzNwU0JlVlkxTU1mfGxpbmVhcnxsaW5lYXItZ3JhZGllbnQoMTg0ZGVnLHJnYmEoMjU1LCsyNTUsKzI1NSwrMSkrMCUyNSxyZ2JhKDAsKzM4LCsyNTUsKzEpKzk2Ljg5MTE5MTcwOTg0NDU2JTI1KXxkZWZhdWx0fDluX1djcG9qVEpNNERkbEY2cGtMMnxyZ2JhKDE3NiwrMjU1LCsxNzAsKzEpfGV4dHJhfHNpemV8d2lkdGh8aGVpZ2h0fHBvaW50fG5GTUdOX1B2OHA2UkkyZUZ4czVuQXxyZ2JhKDI1NSwrMTEwLCswLCsxKXxiYXNzfHJnYmEoMjU1LCsxMTAsKzAsKzEpfFV5c3JBOEJBeW91SHQwbTJkMDdpMXxyZ2JhKDI1NSwrMTEwLCswLCsxKXx0YllOVHVwVy1adGctTXZLcS01ZHReRnwxN3w3M3w2SHwyTXwyU3wyfDczfDczfDczfDF8NzN8MHw1RnwxfDB8MXwyfDB8MXxIVnwzfDB8NzN8NzN8NzN8MXwwfDEyfDczfDF8NTR8MnwwfDB8MXxKRHxHWXxMOXxLOXxLR3xLOHxKRHxDQXxKQ3xHWnxIWHwwfDRXfDczfDRRfDF8Mzh8WHwyU3wwfDJ8M0R8Tkx8MXw3M3wzMnwwfDF8UXwyU3wyU3wwfDB8MHwyfEpBfEF8Qzd8MXw3M3wzMnwwfDF8UXwyU3wyU3wwfDB8MHwyfEpBfEF8QkV8MXw3M3wzMnwwfDF8UXwyU3wyU3wwfDB8MHwyfEpBfEF8QUpeMC4zMnwwLjUxODEzNDcxNTAyNTkwNjd8OTYuMzczMDU2OTk0ODE4NjV8MTA3My44NjU3NDM4MzUzMDN8NDQ3Ljk2ODM1MjU4OTQ1OTN8OTU2LjcwNjUyNDA1NTI4NTJ8NDg3LjgzMjYwODY5NTY1Mjl8MTAwMy4wNjg0OTIxMTY3Njk0fDgyNy43NjIzMDAzODQyOHw1MDcuMDg2OTU2NTIxNzM5fDY1My44MzgxMzU0MDMzNzk5fDU4NS45ODYzODQ1OTkzMzI1fDcxNi4yMDM4MTQ3MzYzMzIxfDQyNS41MzkxMzA0MzQ3ODI4fDUzOC4wMDAwMDAwMDAwMDAxfDI2Mi40NDM0NzgyNjA4Njk5NHw3NjEuNzQxODEzNTczMjg1NXwyOTEuNTE1MDcxMjIzMzg1OXw3NzcuMDUzODk3ODE3MDMxMnwxMjIuMDAwMDAwMDAwMDAwMDN8ODg2LjczNzMxMTAzNTQyODh8MjcyLjc0MDY3NzQ1OTQ1NzQ2fDEwNDIuNDQyNzM2MzU0NTQ5MnwyNjAuODYzODE5MTQ2NTAxMDR8OTc5LjEyNTI4NzQyMDQ5MDJ8MzU0LjA5NjM4Mzc2OTgxNTY1fDk2Ljg5MTE5MTcwOTg0NDU2fDkxMi4xNzg1NDMxNjU2MzA4fDg3My4yMzgxMDU1Mzg4ODQ4fDc0Ni43MDQ4MjE3OTAxMzQ3fDgwNC4zMjM2MjEyNTc2NTQ0fDgxMS4xNTI0MTUxNDcxOTAxfDc4NC40MDg5OTI0OTk1MDY0fDc3Ny45NDUwNjAyMTA3Nzc1fDgxMC41MzAzNDE1MDM5Nzg3fDc1Ny43NzMyMTk0MTAyMjQ4fDY0OC42NzcyMDMyMzA1NDcyfDc1Mi40NDEyMzg3MjQ0NDYzfDY5Ny4yNTc2OTcwMDg1NjU0fDYzNy42Mjg0MzE4MDczMDUyfDY1OC40NjU2OTU0NjkwNDA1fDc1OS4zMjQ4OTk0NzE4MDU4fDg1OC42MzI0MjM0MTI5ODk1fDg2OC4xMjQyNDUwMzI0MTg5fDY0OS42ODk2MzkwNDc2NTUyfDEzNS45OTk5OTk5OTk5OTk5NHw0MTIuMDAwMDAwMDAwMDAwMDZ8MTU3LjAwMDAwMDAwMDAwMDA5fDE1NC4wMDAwMDAwMDAwMDAwOXwxNTYuMDAwMDAwMDAwMDAwMDleJDB8MXwyfDN8NHw1fDZ8JDd8MUV8OHwxRnw5fDFHfEF8NEF8QnwxSHxDfDFJfER8MUp8RXxGXXxHfEAkMHxIfEl8MUt8SnwkS3xAJEx8NEJ8N3wxTHw4fDFNfDl8MU58QXwxT118JEx8NEN8N3wxUHw4fDFRfDl8MVJ8QXwxU11dfEl8TXxOfDFUfEV8T118UHwkUXxSfFN8QCRUfDFVfFV8MVZdfCRUfDFXfFV8MVhdXV18VnwkS3xAJFR8NER8VXw0RV18JFR8NEZ8VXw0R118JFR8NEh8VXwxWV18JFR8NEl8VXw0Sl18JFR8NEt8VXw0TF18JFR8NE18VXw0Tl18JFR8NE98VXw0UF18JFR8NFF8VXw0Ul18JFR8NFN8VXw0VF18JFR8NFV8VXw0Vl18JFR8NFd8VXw0WF18JFR8NFl8VXw0Wl1dXV18JDB8V3xJfDFafEp8JEt8QCRMfDIwfDd8MjF8OHwyMnw5fDIzfEF8MjRdfCRMfDUwfDd8MjV8OHwyNnw5fDI3fEF8MjhdXXxJfFh8TnwyOXxFfFldfFB8JFF8WnxTfEAkVHwyQXxVfDJCXXwkVHwyQ3xVfDJEXV1dfFZ8JEt8QCRUfDUxfFV8MkVdfCRUfDUyfFV8NTNdfCRUfDU0fFV8MkZdfCRUfDU1fFV8NTZdfCRUfDU3fFV8MkddfCRUfDU4fFV8MkhdfCRUfDU5fFV8MkldfCRUfDVBfFV8NUJdfCRUfDVDfFV8MkpdfCRUfDVEfFV8MktdfCRUfDVFfFV8MkxdfCRUfDVGfFV8Mk1dfCRUfDU4fFV8Mk5dfCRUfDVHfFV8Mk9dfCRUfDVIfFV8NUldXV1dfCQwfDEwfEl8MlB8SnwkN3wyUXw4fDJSfDl8MlN8QXwyVHxCfDJVfEN8MlZ8RHwyV3xFfDExXXxQfCRRfDEyfFN8QCRUfDJYfFV8MlldXV18VnwkMTN8JDE0fDJafDE1fDVKXXwxNnwkVHwzMHxVfDVLXV1dfCQwfDE3fEl8MzF8SnwkN3wzMnw4fDMzfDl8MzR8QXwzNXxCfDM2fEN8Mzd8RHwzOHxFfDE4XXxQfCRRfDE5fFN8QCRUfDM5fFV8M0FdfCRUfDNCfFV8M0NdXV18VnwkMTN8JDE0fDNEfDE1fDNFXXwxNnwkVHw1THxVfDNGXV1dfCRJfDNHfEp8JDd8M0h8OHwzSXw5fDNKfEF8M0t8QnwzTHxDfDNNfER8M058RXwxQV18UHwkUXwxOXxTfEAkVHwzT3xVfDNQXXwkVHwzUXxVfDNSXV1dfDB8MUJ8VnwkMTN8JDE0fDNTfDE1fDNUXXwxNnwkVHw1TXxVfDNVXV1dfCRJfDNWfEp8JDd8M1d8OHwzWHw5fDNZfEF8M1p8Qnw0MHxDfDQxfER8NDJ8RXwxQ118UHwkUXwxOXxTfEAkVHw0M3xVfDQ0XXwkVHw0NXxVfDQ2XV1dfDB8MUR8VnwkMTN8JDE0fDQ3fDE1fDQ4XXwxNnwkVHw1TnxVfDQ5XV1dXV0"},h=t(73),p=t(74),v=function(e){var n=Object(h.b)(e);return Object(p.unpack)(n)},b=function(e){return("undefined"!==typeof window?new URLSearchParams(window.location.search):new URLSearchParams).get(e)},m=t(7),g=t(15),w=t(23),y=t.n(w);!function(e){e.linear="linear",e.radial="radial"}(o||(o={})),function(e){e[e.ellipse=0]="ellipse",e[e.rectangle=1]="rectangle",e[e.polygon=2]="polygon",e[e.blob=3]="blob"}(r||(r={}));var x=function(e,n){var t=Object(a.useRef)(e);t.current=e;var o=Object(a.useRef)(n);o.current=n,Object(a.useEffect)((function(){var e=function(e){var n=t.current,r=o.current;e.ctrlKey&&("KeyC"===e.code?n():"KeyV"===e.code&&r())};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[])},M=t(17),O=t(18),D=t(46),j=t(57),E=t(25),k=t(58),C=function(e){return function(e){return!!e.offsetX}(e)?{x:e.offsetX,y:e.offsetY}:{x:e.touches[0].clientX,y:e.touches[0].clientY}},z=["left","diagonal-rt-lb","diagonal-rb-lt"],N=["top","diagonal-lb-rt","diagonal-rb-lt"],R=["left","right","diagonal-lt-rb","diagonal-rb-lt","diagonal-lb-rt","diagonal-rt-lb"],F=["down","top","diagonal-lt-rb","diagonal-rb-lt","diagonal-lb-rt","diagonal-rt-lb"],_={down:"ns-resize",top:"ns-resize",left:"ew-resize",right:"ew-resize","diagonal-lb-rt":"nesw-resize","diagonal-rb-lt":"nwse-resize","diagonal-lt-rb":"nwse-resize","diagonal-rt-lb":"nesw-resize"},S={right:{down:"diagonal-lt-rb",top:"diagonal-lb-rt"},left:{down:"diagonal-rt-lb",top:"diagonal-rb-lt"}},H=function(){function e(n,t){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;Object(M.a)(this,e),this.paperScope=n,this.expandSize=r,this.onResize=null,this._resizeHoverRectangle=void 0,this._resizeVisibleRectangle=void 0,this._cursorBeforeModify=null,this._isShow=!1,this._onDocumentMouseUp=null,this._onDocumentMouseMove=null,this._onDocumentTouchMove=null,this.unbindMouseHoverHandlers=function(){o._resizeHoverRectangle.onMouseMove=null,o._resizeHoverRectangle.onMouseLeave=null},this.bindMouseHoverHandlers=function(){o._resizeHoverRectangle.onMouseMove=function(e){o.handleMouseMove(e)},o._resizeHoverRectangle.onMouseLeave=function(){o.handleBlur()}},this.handleMouseDown=function(e){o.unbindMouseHoverHandlers();var n=function(){return o.handleMouseUp()};window.addEventListener("mouseup",n),window.addEventListener("touchend",n),o._onDocumentMouseUp=n;var t=o.resizeHandlerCreator(e),r=o.resizeTouchHandlerCreator(e);window.addEventListener("mousemove",t),window.addEventListener("touchmove",r),o._onDocumentMouseMove=t,o._onDocumentTouchMove=r},this.handleMouseUp=function(){o._onDocumentMouseUp&&(window.removeEventListener("mouseup",o._onDocumentMouseUp),window.removeEventListener("touchend",o._onDocumentMouseUp)),o._onDocumentMouseMove&&(window.removeEventListener("mousemove",o._onDocumentMouseMove),window.removeEventListener("touchmove",o._onDocumentTouchMove)),o.bindMouseHoverHandlers()},this.handleMouseMove=function(e){var n=o.calculateDirection(e),t=_[n];null===o._cursorBeforeModify&&(o._cursorBeforeModify=document.body.style.cursor),document.body.style.cursor=t},this.handleBlur=function(){null!=o._cursorBeforeModify&&(document.body.style.cursor=o._cursorBeforeModify,o._cursorBeforeModify=null)},this.calculateDirection=function(e){var n=o._resizeHoverRectangle.bounds,t=n.height,r=n.width,a=n.x,i=n.y,c=(r+10)/100,u=(t+10)/100,l=20/c,s=20/u,d=(100-2*l)/2,f=(100-2*l)/2,h=(e.point.x-a)/c,p=(e.point.y-i)/u,v=h-50,b=p-50;return Math.abs(v)>=d&&Math.abs(b)>=f?S[v>0?"right":"left"][b>0?"down":"top"]:h<s?"left":h>100-s?"right":p<l?"top":"down"};var a=this.self.expandRectangle(t,this.expandSize),i=new this.paperScope.Color(0,0,0,.2);this._resizeVisibleRectangle=new this.paperScope.Path.Rectangle(a),this._resizeVisibleRectangle.strokeColor=i,this._resizeVisibleRectangle.strokeWidth=2,this._resizeVisibleRectangle.visible=!1;var c=this.self.expandRectangle(t,this.expandSize),u=new this.paperScope.Color(0,0,0,Number.EPSILON);this._resizeHoverRectangle=new this.paperScope.Path.Rectangle(c),this._resizeHoverRectangle.strokeColor=u,this._resizeHoverRectangle.strokeWidth=20,this._resizeHoverRectangle.visible=!1,this.bindMouseHoverHandlers(),this._resizeHoverRectangle.onMouseDown=function(e){o.handleMouseDown(e)}}return Object(O.a)(e,[{key:"updateSize",value:function(e){var n=this.self.expandRectangle(e,this.expandSize);this._resizeVisibleRectangle.bounds=n.clone(),this._resizeHoverRectangle.bounds=n}},{key:"shift",value:function(e,n){this._resizeHoverRectangle.position.x+=e,this._resizeHoverRectangle.position.y+=n,this._resizeVisibleRectangle.position.x+=e,this._resizeVisibleRectangle.position.y+=n}},{key:"bringToFront",value:function(){this._resizeVisibleRectangle.bringToFront(),this._resizeHoverRectangle.bringToFront()}},{key:"remove",value:function(){this._resizeVisibleRectangle.remove(),this._resizeHoverRectangle.remove()}},{key:"resizeHandlerCreator",value:function(e){var n=this,t=this.calculateDirection(e),o=z.includes(t),r=N.includes(t),a=this._resizeHoverRectangle.bounds.clone(),i=e.point;return function(e){var c=i.x,u=i.y,l=e.offsetX,s=e.offsetY,d=R.includes(t)?l-c:0,f=F.includes(t)?s-u:0;d=o?-d:d,f=r?-f:f;var h=a.clone(),p=h.width+d,v=h.height+f;if(p>10?(h.width=p,h.x+=o?-d:0):(h.width=n._resizeHoverRectangle.bounds.width,h.x=n._resizeHoverRectangle.bounds.x),v>10?(h.height=v,h.y+=r?-f:0):(h.height=n._resizeHoverRectangle.bounds.height,h.y=n._resizeHoverRectangle.bounds.y),n._resizeVisibleRectangle.bounds=h.clone(),n._resizeHoverRectangle.bounds=h,n.onResize){var b=n.self.unExpandRectangle(h,n.expandSize),m={width:b.width,height:b.height},g={x:b.x,y:b.y};n.onResize(m,g)}}}},{key:"resizeTouchHandlerCreator",value:function(e){var n=this,t=this.calculateDirection(e),o=z.includes(t),r=N.includes(t),a=this._resizeHoverRectangle.bounds.clone(),i=e.point;return function(e){if(e.touches[0]){var c=i.x,u=i.y,l=e.touches[0],s=l.clientX,d=l.clientY,f=R.includes(t)?s-c:0,h=F.includes(t)?d-u:0;f=o?-f:f,h=r?-h:h;var p=a.clone(),v=p.width+f,b=p.height+h;if(v>10?(p.width=v,p.x+=o?-f:0):(p.width=n._resizeHoverRectangle.bounds.width,p.x=n._resizeHoverRectangle.bounds.x),b>10?(p.height=b,p.y+=r?-h:0):(p.height=n._resizeHoverRectangle.bounds.height,p.y=n._resizeHoverRectangle.bounds.y),n._resizeVisibleRectangle.bounds=p.clone(),n._resizeHoverRectangle.bounds=p,n.onResize){var m=n.self.unExpandRectangle(p,n.expandSize),g={width:m.width,height:m.height},w={x:m.x,y:m.y};n.onResize(g,w)}}}}},{key:"isShow",get:function(){return this._isShow},set:function(e){this._isShow!==e&&(this._resizeVisibleRectangle.visible=e,this._resizeHoverRectangle.visible=e,this._isShow=e)}},{key:"self",get:function(){return e}}],[{key:"expandRectangle",value:function(e,n){var t=e.clone();return t.x-=n,t.y-=n,t.width+=2*n,t.height+=2*n,t}},{key:"unExpandRectangle",value:function(e,n){var t=e.clone();return t.x+=n,t.y+=n,t.width-=2*n,t.height-=2*n,t}}]),e}();var V=function(){var e={};return{on:function(n,t){e[n]=(e[n]||[]).concat(t)},off:function(n,t){e[n]=(e[n]||[]).filter((function(e){return e!==t}))},emit:function(n,t){(e[n]||[]).forEach((function(e){e(t)}))}}},T={segments:!0,stroke:!0,fill:!0,tolerance:5},U=function(){function e(n,t){var o=this;Object(M.a)(this,e),this._paperScope=n,this._shapeData=t,this._coreFigure=void 0,this.isDisable=!1,this._isPlayMode=!1,this._isActive=!1,this._ResizeArea=null,this._lastMovePosition=null,this._moveFigureHandler=null,this._touchFigureHandler=null,this._moveSegmentHandler=null,this._touchSegmentHandler=null,this._isScalable=!1,this.onClick=null,this._updateNotify=Object(D.throttle)((function(){if(!o.isPlayMode){var e=o.serializationToShapeData(o._coreFigure,o._shapeData);o._shapeData=e,o.static.emitter.emit("edited",e)}}),20),this._coreFigure=this.initCoreFigure(n,t),this.bindHandlers()}return Object(O.a)(e,[{key:"updateFromShapeData",value:function(e){var n;this.updateCoreFigureByShapeData(this._coreFigure,e,this._paperScope),this._shapeData=e,null===(n=this._ResizeArea)||void 0===n||n.updateSize(this._coreFigure.bounds)}},{key:"bringToFront",value:function(){var e;this._coreFigure.bringToFront(),null===(e=this._ResizeArea)||void 0===e||e.bringToFront()}},{key:"remove",value:function(){this._moveFigureHandler&&window.removeEventListener("mousemove",this._moveFigureHandler),this._touchFigureHandler&&window.removeEventListener("touchmove",this._touchFigureHandler),this._moveSegmentHandler&&window.removeEventListener("mousemove",this._moveSegmentHandler),this._touchSegmentHandler&&window.removeEventListener("touchmove",this._touchSegmentHandler),this._ResizeArea&&this._ResizeArea.remove(),this._coreFigure.remove()}},{key:"isSmoothFigure",value:function(){return!1}},{key:"isCanChangePoints",value:function(){return!1}},{key:"playTrack",value:function(){var e=this._shapeData.track;if(e){var n=e.SoundPaletteKey,t=e.soundPosition,o=new k.a(j.a),r=E.a[n].matrix,a=t.map((function(e){var n=e.x,t=e.y;return r[n][t].sound}));o.playSong(a)}}},{key:"bindHandlers",value:function(){var e=this;this._coreFigure.strokeColor=new this._paperScope.Color(0,0,0,Number.EPSILON),this._coreFigure.selectedColor=new this._paperScope.Color(0,1,0),this._coreFigure.strokeWidth=5,this.static.emitter.on("click",(function(n){n.id!==e.id&&(e.isActive=!1)})),this._paperScope.project.view.on("mouseup",(function(n){var t;if(!e.isDisable&&!e._isPlayMode){e.unbindSegmentMoveHandler();var o=n.modifiers.shift;if(e.isActive&&o){var r=e._paperScope.project.hitTest(n.point,T);r&&r.item===e._coreFigure&&"segment"===r.type&&(r.segment.remove(),null===(t=e._ResizeArea)||void 0===t||t.updateSize(e._coreFigure.bounds),n.stopPropagation())}}})),this._coreFigure.onMouseEnter=function(){e._isPlayMode&&(document.body.style.cursor="pointer")},this._coreFigure.onMouseLeave=function(){e._isPlayMode&&(document.body.style.cursor="initial")},this._coreFigure.onMouseUp=function(){e.unbindFigureMoveHandler()},this._coreFigure.onMouseDown=function(n){if(e._isPlayMode)return e.playTrack(),void(e._isScalable||(e._isScalable=!0,e._coreFigure.scale(1.1),setTimeout((function(){e._coreFigure.scale(1/1.1),e._isScalable=!1}),200)));if(e.isDisable)e.static.emitter.emit("click",e._shapeData);else{var t=!0;if(e.isActive){if(e.isCanChangePoints()){var o=e._paperScope.project.hitTest(n.point,T);if(o){var r,a=n.modifiers.shift;if(a&&"segment"===o.type)o.segment.remove(),null===(r=e._ResizeArea)||void 0===r||r.updateSize(e._coreFigure.bounds),n.stopPropagation(),t=!1,e._updateNotify();else if("segment"!==o.type||a){if("stroke"===o.type){var i,c=o.location.index+1,u=e._coreFigure.insert(c,n.point);e.isSmoothFigure()&&e._coreFigure.smooth(),null===(i=e._ResizeArea)||void 0===i||i.updateSize(e._coreFigure.bounds),e.bindSegmentMoveHandler(u),t=!1}}else e.bindSegmentMoveHandler(o.segment),t=!1}}}else e._paperScope.project.activeLayer.selected=!1,e.static.emitter.emit("click",e._shapeData),e.isActive=!0;if(t){var l=n.point,s=l.x,d=l.y;e.bindFigureMoveHandler({x:s,y:d})}e.onClick&&e.onClick()}}}},{key:"bindSegmentMoveHandler",value:function(e){var n=this;this._moveSegmentHandler=Object(D.throttle)((function(t){var o,r=C(t);e.point.x=r.x,e.point.y=r.y,null===(o=n._ResizeArea)||void 0===o||o.updateSize(n._coreFigure.bounds)}),20),this._touchSegmentHandler=Object(D.throttle)((function(t){var o,r=C(t);e.point.x=r.x,e.point.y=r.y,null===(o=n._ResizeArea)||void 0===o||o.updateSize(n._coreFigure.bounds)}),20),window.addEventListener("mousemove",this._moveSegmentHandler),window.addEventListener("touchmove",this._touchSegmentHandler)}},{key:"unbindSegmentMoveHandler",value:function(){this._moveSegmentHandler&&this._touchSegmentHandler&&(window.removeEventListener("mousemove",this._moveSegmentHandler),window.removeEventListener("touchmove",this._touchSegmentHandler),this._updateNotify(),this._moveSegmentHandler=null,this._touchSegmentHandler=null)}},{key:"bindFigureMoveHandler",value:function(e){var n=this;this._lastMovePosition=e,this._moveFigureHandler=Object(D.throttle)((function(e){return n.moveFigure(e)}),20),this._touchFigureHandler=Object(D.throttle)((function(e){return n.moveFigure(e)}),20),window.addEventListener("mousemove",this._moveFigureHandler),window.addEventListener("touchmove",this._touchFigureHandler)}},{key:"unbindFigureMoveHandler",value:function(){this._moveFigureHandler&&this._touchFigureHandler&&(window.removeEventListener("mousemove",this._moveFigureHandler),window.removeEventListener("touchmove",this._touchFigureHandler),this._updateNotify(),this._lastMovePosition=null)}},{key:"moveFigure",value:function(e){if(this._lastMovePosition){var n=C(e),t=n.x-this._lastMovePosition.x,o=n.y-this._lastMovePosition.y;this._coreFigure.position.x+=t,this._coreFigure.position.y+=o,this._ResizeArea&&this._ResizeArea.shift(t,o),this._lastMovePosition=n}}},{key:"resizeFigure",value:function(e,n){this._coreFigure.bounds.width=e.width,this._coreFigure.bounds.height=e.height,this._coreFigure.bounds.x=n.x,this._coreFigure.bounds.y=n.y}},{key:"shapeData",get:function(){return this._shapeData}},{key:"static",get:function(){return e}},{key:"bounds",get:function(){return this._coreFigure.bounds}},{key:"id",get:function(){return this._shapeData.id}},{key:"isPlayMode",get:function(){return this._isPlayMode},set:function(e){this._isPlayMode=e,this.isActive=!1}},{key:"isActive",get:function(){return this._isActive},set:function(e){var n=this;this._isActive!==e&&(this._ResizeArea||(this._ResizeArea=new H(this._paperScope,this._coreFigure.bounds),this._ResizeArea.onResize=function(e,t){n.resizeFigure(e,t),n._updateNotify()}),this.isCanChangePoints()&&(this._coreFigure.selected=e),this._ResizeArea.isShow=e,this._isActive=e)}},{key:"isResizing",get:function(){return!!this._ResizeArea&&this._ResizeArea.isShow},set:function(e){var n=this;this._ResizeArea||(this._ResizeArea=new H(this._paperScope,this._coreFigure.bounds),this._ResizeArea.onResize=function(e,t){n.resizeFigure(e,t)}),this._ResizeArea.isShow=e}}]),e}();U.emitter=V();var X=t(31),L=t(30),A=function(e,n,t){switch(n){case"-":return{x:e.x-t.x,y:e.y-t.y};case"+":return{x:e.x+t.x,y:e.y+t.y};case"*":return{x:e.x*t.x,y:e.y*t.y};case"/":return{x:e.x/t.x,y:e.y/t.y}}},P=function(e,n){var t=Object(l.a)(e,2),o=t[0],r=t[1],a=Object(l.a)(n,2),i=a[0],c=a[1],u=A(r,"-",o),s=A(c,"-",i),d=-u.y,f=+u.x,h=-(d*o.x+f*o.y),p=-s.y,v=+s.x,b=-(p*i.x+v*i.y),m=p*o.x+v*o.y+b,g=p*r.x+v*r.y+b,w=d*i.x+f*i.y+h,y=d*c.x+f*c.y+h;if(m*g>=0||w*y>=0)return!1;var x=m/(m-g),M=A({x:x,y:x},"*",u);return A(o,"+",M)},B=function(e,n){if(!function(e){return!!e.type&&"rgb"!==e.type}(n))return new y.a.Color(n.red/255,n.green/255,n.blue/255,n.alpha);var t=e.bounds,o=t.width,r=t.height,a=t.x,i=t.y,c={stops:n.points.map((function(e){return new y.a.GradientStop(new y.a.Color(e.red/255,e.green/255,e.blue/255,e.alpha),e.left/100)})),radial:"linear"!==n.type};if("linear"===n.type){var u,l,s={x:a+Math.round(o/2),y:i+Math.round(r/2)},d=n.degree+90,f=function(e){var n=e/180*Math.PI;return{x:Math.cos(n),y:Math.sin(n)}}(d),h=2*Math.max(o,r),p={x:f.x*h,y:f.y*h},v=[{x:Math.floor(s.x-p.x),y:Math.floor(s.y-p.y)},{x:Math.ceil(s.x+p.x),y:Math.ceil(s.y+p.y)}],b=function(e){var n=e.width,t=e.height,o=e.x,r=e.y;return{top:[{x:o,y:r},{x:o+n,y:r}],bottom:[{x:o,y:r+t},{x:o+n,y:r+t}],left:[{x:o,y:r},{x:o,y:r+t}],right:[{x:o+n,y:r},{x:o+n,y:r+t}]}}(e.bounds),m=P(v,b.top),g=P(v,b.bottom),w=P(v,b.left),x=P(v,b.right);if(m){if(!g)return;if(u=m,l=g,d>360||d<180){var M=[l,u];u=M[0],l=M[1]}}else{if(!w||!x)return;if(u=w,l=x,!(d>90&&d<270)){var O=[l,u];u=O[0],l=O[1]}}return{gradient:c,origin:[Math.round(u.x),Math.round(u.y)],destination:[Math.round(l.x),Math.round(l.y)]}}return{gradient:c,destination:[a,i],origin:[a+Math.round(o/2),i+Math.round(r/2)]}},J=function(e){Object(X.a)(t,e);var n=Object(L.a)(t);function t(){return Object(M.a)(this,t),n.apply(this,arguments)}return Object(O.a)(t,[{key:"initCoreFigure",value:function(e,n){var t=n.color,o=n.shapeScheme,r=o.size,a=o.point,i=new e.Path.Ellipse({width:r.width,height:r.height,x:a.x,y:a.y});return i.fillColor=B(i,t),i}},{key:"updateCoreFigureByShapeData",value:function(e,n){var t=n.color,o=n.shapeScheme,r=o.size,a=o.point;e.bounds.height=r.height,e.bounds.width=r.width,e.bounds.x=a.x,e.bounds.y=a.y,e.fillColor=B(e,t)}},{key:"serializationToShapeData",value:function(e,n){return Object(s.a)(Object(s.a)({},n),{},{shapeScheme:{size:{width:e.bounds.width,height:e.bounds.height},point:{x:e.bounds.x,y:e.bounds.y}}})}}]),t}(U),Q=function(e){Object(X.a)(t,e);var n=Object(L.a)(t);function t(){return Object(M.a)(this,t),n.apply(this,arguments)}return Object(O.a)(t,[{key:"initCoreFigure",value:function(e,n){var t=n.color,o=n.shapeScheme,r=o.size,a=o.point,i=new y.a.Path.Rectangle({width:r.width,height:r.height,x:a.x,y:a.y});return i.fillColor=B(i,t),i}},{key:"updateCoreFigureByShapeData",value:function(e,n){var t=n.color,o=n.shapeScheme,r=o.size,a=o.point;e.bounds.height=r.height,e.bounds.width=r.width,e.bounds.x=a.x,e.bounds.y=a.y,e.fillColor=B(e,t)}},{key:"serializationToShapeData",value:function(e,n){return Object(s.a)(Object(s.a)({},n),{},{shapeScheme:{size:{width:e.bounds.width,height:e.bounds.height},point:{x:e.bounds.x,y:e.bounds.y}}})}}]),t}(U),I=function(e){Object(X.a)(t,e);var n=Object(L.a)(t);function t(){return Object(M.a)(this,t),n.apply(this,arguments)}return Object(O.a)(t,[{key:"initCoreFigure",value:function(e,n){var t=n.color,o=n.shapeScheme.points,r=new e.Path;return r.closed=!0,o.forEach((function(n){var t=new e.Point(n);r.add(t)})),this.isSmoothFigure()&&r.smooth(),r.fillColor=B(r,t),r}},{key:"isCanChangePoints",value:function(){return!0}},{key:"updateCoreFigureByShapeData",value:function(e,n,t){var o=n.color,r=n.shapeScheme.points;e.removeSegments(),r.forEach((function(n){var o=new t.Point(n);e.add(o)})),this.isSmoothFigure()&&e.smooth(),e.fillColor=B(e,o)}},{key:"serializationToShapeData",value:function(e,n){return Object(s.a)(Object(s.a)({},n),{},{shapeScheme:{points:e.segments.map((function(e){return{x:e.point.x,y:e.point.y}}))}})}}]),t}(U),Z=function(e){Object(X.a)(t,e);var n=Object(L.a)(t);function t(){return Object(M.a)(this,t),n.apply(this,arguments)}return Object(O.a)(t,[{key:"isSmoothFigure",value:function(){return!0}}]),t}(I),W=t(184),Y=t(188),K=(t(90),t(75)),G=t.n(K),q=t(194),$=t(189),ee=t(100);var ne=function(e){var n=Object(a.useRef)();return Object(a.useEffect)((function(){n.current=e}),[e]),n.current},te={red:0,green:0,blue:255,alpha:1},oe={points:[{left:0,red:0,green:255,blue:0,alpha:1},{left:100,red:0,green:100,blue:255,alpha:1}],degree:0,type:o.linear},re=t(10),ae=t(11);function ie(){var e=Object(re.a)(["\n  .ui-color-picker {\n    width: 100%;\n    margin: 0;\n    padding-top: 10px;\n    background-color: transparent;\n    .input-group {\n      display: none;\n    }\n  }\n"]);return ie=function(){return e},e}function ce(){var e=Object(re.a)(["\n  padding: 0 5px 5px;\n"]);return ce=function(){return e},e}var ue=ae.a.div(ce()),le=ae.a.div(ie()),se=Object(a.memo)((function(e){var n=e.id,t=e.color,o=e.onChange,r=!!t&&!!t.points,c=Object(a.useState)({color:null!==t&&void 0!==t?t:te,pikerIsGradient:r}),u=Object(l.a)(c,2),d=u[0],f=d.color,h=d.pikerIsGradient,p=u[1],v=ne(n);Object(a.useEffect)((function(){t&&p({color:null!==t&&void 0!==t?t:te,pikerIsGradient:r})}),[t,r,p]);var b=Object(a.useCallback)((function(e){var n=e?oe:te;o(n),p({pikerIsGradient:e,color:n})}),[p,o]),m=Object(a.useCallback)(G()((function(e){p((function(n){return Object(s.a)(Object(s.a)({},n),{},{color:e})})),o(e)}),20),[p,o]),g=Object(a.useMemo)(G()((function(){var e={};return f?(e[h?"gradient":"color"]=Object(s.a)({},f),e):e}),20),[f,h]);return v&&v!==n?null:i.a.createElement(i.a.Fragment,null,i.a.createElement(ue,null,i.a.createElement($.a,{value:Number(h),fullWidth:!0,onChange:function(e){return b(!!e.target.value)}},i.a.createElement(q.a,{value:0},"Fill"),i.a.createElement(q.a,{value:1},"Gradient"))),i.a.createElement(le,null,i.a.createElement(ee.ColorPicker,Object.assign({onStartChange:m,onChange:m,onEndChange:m,isGradient:h},g))))})),de=t(101);function fe(){var e=Object(re.a)(["\n  position: absolute;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  width: 260px;\n  padding: 15px 10px;\n  border-left: 1px solid #c1c1c1;\n  box-shadow: 0 0 5px #00000075;\n  background: #fff;\n  &:after {\n    content: '';\n    display: block;\n    width: 260px;\n  }\n"]);return fe=function(){return e},e}var he=ae.a.div(fe()),pe=function(e){var n=e.selectShape,t=e.background,o=e.onColorChange,r=e.onTrackChange,a=n||{},c=a.color,u=a.track;return i.a.createElement(he,null,i.a.createElement(Y.a,{sx:{mb:5}},i.a.createElement(Y.a,{sx:{mb:1}},i.a.createElement(W.a,null,"Color")),i.a.createElement(se,{id:null===n||void 0===n?void 0:n.id,color:c||t,onChange:function(e){return o(e)}})),!!n&&i.a.createElement(Y.a,null,i.a.createElement(Y.a,{sx:{mb:1}},i.a.createElement(Y.a,{sx:{mb:1}},i.a.createElement(W.a,null,"Sound"))),i.a.createElement(de.default,{track:u||null,onTrackChange:function(e){return r(e)}})))},ve=t(185),be=t(102),me=t.n(be),ge=t(61),we=t(103),ye=t.n(we);function xe(){return(xe=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function Me(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var Oe=i.a.createElement("path",{d:"M31.5 15.5C31.5 23.7694 24.5755 30.5 16 30.5C7.4245 30.5 0.5 23.7694 0.5 15.5C0.5 7.23057 7.4245 0.5 16 0.5C24.5755 0.5 31.5 7.23057 31.5 15.5Z",stroke:"black"}),De=function(e){var n=e.svgRef,t=e.title,o=Me(e,["svgRef","title"]);return i.a.createElement("svg",xe({width:32,height:31,viewBox:"0 0 32 31",fill:"none",ref:n},o),t?i.a.createElement("title",null,t):null,Oe)},je=i.a.forwardRef((function(e,n){return i.a.createElement(De,xe({svgRef:n},e))}));t.p;function Ee(){return(Ee=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function ke(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var Ce=i.a.createElement("path",{d:"M26.3388 2L17.6612 14.4091L2.04132 4.48182L11.0661 20.7909L1 23.2727L12.4545 25.7545L8.63636 41L20.438 27.1727L33.6281 36.0364L25.2975 23.2727L43 14.4091L25.2975 15.4727L26.3388 2Z",stroke:"black"}),ze=function(e){var n=e.svgRef,t=e.title,o=ke(e,["svgRef","title"]);return i.a.createElement("svg",Ee({width:44,height:42,viewBox:"0 0 44 42",fill:"none",ref:n},o),t?i.a.createElement("title",null,t):null,Ce)},Ne=i.a.forwardRef((function(e,n){return i.a.createElement(ze,Ee({svgRef:n},e))}));t.p;function Re(){return(Re=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function Fe(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var _e=i.a.createElement("rect",{x:.5,y:.5,width:27,height:27,stroke:"black"}),Se=function(e){var n=e.svgRef,t=e.title,o=Fe(e,["svgRef","title"]);return i.a.createElement("svg",Re({width:28,height:28,viewBox:"0 0 28 28",fill:"none",ref:n},o),t?i.a.createElement("title",null,t):null,_e)},He=i.a.forwardRef((function(e,n){return i.a.createElement(Se,Re({svgRef:n},e))}));t.p;function Ve(){return(Ve=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function Te(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var Ue=i.a.createElement("path",{d:"M15.1726 10.98C12.265 13.0386 11.376 11.0544 9.84031 7.24901C8.5856 4.13987 3.88061 5.07261 2.62603 6.31627C0.772506 8.15367 0.164671 13.8435 2.62603 17.1983C5.13532 20.6183 7.95832 17.8201 7.95832 21.862C7.95832 24.0384 -0.510648 28.3912 4.82167 34.9205C10.154 41.4497 14.2316 28.3912 18.6229 27.4585C23.0142 26.5257 15.8 43.1127 27.4056 38.0296C40.8932 32.1222 27.5388 27.1049 29.6012 24.0384C30.8559 22.1729 42.2149 26.1542 40.8932 19.9965C37.7565 5.38349 27.4056 14.0891 26.1509 14.0891C24.6539 14.0891 23.3279 11.1665 24.5826 8.18173C26.1509 4.45073 27.4056 1.65252 19.5639 1.03069C11.7223 0.408858 17.3683 9.42542 15.1726 10.98Z",stroke:"black"}),Xe=function(e){var n=e.svgRef,t=e.title,o=Te(e,["svgRef","title"]);return i.a.createElement("svg",Ve({width:42,height:40,viewBox:"0 0 42 40",fill:"none",ref:n},o),t?i.a.createElement("title",null,t):null,Ue)},Le=i.a.forwardRef((function(e,n){return i.a.createElement(Xe,Ve({svgRef:n},e))}));t.p;function Ae(){return(Ae=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function Pe(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var Be=i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.5 0.178574C19.7761 0.178574 20 0.402431 20 0.678574V31.0621L28.3737 21.4922C28.5556 21.2844 28.8714 21.2633 29.0793 21.4451C29.2871 21.627 29.3081 21.9429 29.1263 22.1507L19.8763 32.7221C19.7833 32.8284 19.6497 32.8904 19.5086 32.8928C19.3674 32.8952 19.2318 32.8378 19.1352 32.7348L9.22452 22.1634C9.03565 21.9619 9.04586 21.6455 9.24732 21.4567C9.44877 21.2678 9.76519 21.278 9.95405 21.4795L19 31.1285V0.678574C19 0.402431 19.2239 0.178574 19.5 0.178574ZM1 20C1.27614 20 1.5 20.2239 1.5 20.5V38.5H37.5V20.5C37.5 20.2239 37.7239 20 38 20C38.2761 20 38.5 20.2239 38.5 20.5V39.5H0.5V20.5C0.5 20.2239 0.723858 20 1 20Z",fill:"black"}),Je=function(e){var n=e.svgRef,t=e.title,o=Pe(e,["svgRef","title"]);return i.a.createElement("svg",Ae({width:39,height:40,viewBox:"0 0 39 40",fill:"none",ref:n},o),t?i.a.createElement("title",null,t):null,Be)},Qe=i.a.forwardRef((function(e,n){return i.a.createElement(Je,Ae({svgRef:n},e))}));t.p;function Ie(){return(Ie=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function Ze(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var We=i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.8202 0.500654C29.3256 0.763624 32.8974 4.56303 34.8585 8.2487C35.8366 10.0869 36.4195 11.9033 36.777 13.2529C36.9398 13.8678 37.0566 14.3886 37.1414 14.767L37.1653 14.8739C37.1843 14.9584 37.2011 15.0321 37.216 15.0957C39.6763 15.1764 41.5715 16.0839 42.8878 17.443C44.2605 18.8604 44.9761 20.74 45.076 22.6064C45.1757 24.4709 44.6625 26.3562 43.533 27.7855C42.3941 29.2267 40.6485 30.1765 38.3619 30.1765H29.8246C29.5484 30.1765 29.3246 29.9526 29.3246 29.6765C29.3246 29.4003 29.5484 29.1765 29.8246 29.1765H38.3619C40.3441 29.1765 41.8001 28.3655 42.7484 27.1654C43.7062 25.9535 44.166 24.3171 44.0774 22.6599C43.9889 21.0046 43.3548 19.3626 42.1695 18.1387C40.9913 16.9222 39.2409 16.0898 36.8554 16.0898C36.6079 16.0898 36.4733 15.9219 36.4465 15.8877C36.4032 15.8324 36.3779 15.778 36.3657 15.7503C36.3391 15.6897 36.3185 15.6217 36.3029 15.5658C36.27 15.4478 36.2323 15.2828 36.1897 15.0932L36.1657 14.9863C36.0809 14.608 35.968 14.1044 35.8103 13.5089C35.464 12.2015 34.905 10.4648 33.9757 8.71844C32.1249 5.24 28.8273 1.74961 22.7941 1.50042C16.7608 1.74961 13.4633 5.24 11.6124 8.71844C10.6832 10.4648 10.1241 12.2015 9.77784 13.5089C9.62012 14.1044 9.50723 14.608 9.42242 14.9863L9.39843 15.0932C9.35582 15.2828 9.3181 15.4478 9.2852 15.5658C9.2696 15.6217 9.24905 15.6897 9.2224 15.7503C9.21027 15.778 9.18493 15.8324 9.14163 15.8877C9.11488 15.9219 8.98022 16.0898 8.73269 16.0898C6.34722 16.0898 4.59683 16.9222 3.41867 18.1387C2.23333 19.3626 1.59927 21.0046 1.51074 22.6599C1.42211 24.3171 1.88193 25.9535 2.8397 27.1654C3.78804 28.3655 5.24401 29.1765 7.22626 29.1765H15.7636C16.0397 29.1765 16.2636 29.4003 16.2636 29.6765C16.2636 29.9526 16.0397 30.1765 15.7636 30.1765H7.22626C4.93968 30.1765 3.19407 29.2267 2.05512 27.7855C0.92561 26.3562 0.412448 24.4709 0.512167 22.6064C0.611993 20.74 1.32762 18.8604 2.70034 17.443C4.01666 16.0839 5.91185 15.1764 8.37219 15.0957C8.38705 15.0321 8.40379 14.9584 8.42279 14.8739L8.44676 14.767L8.44677 14.767C8.53158 14.3886 8.64832 13.8677 8.81117 13.2529C9.16862 11.9033 9.7515 10.0869 10.7296 8.2487C12.6907 4.56303 16.2626 0.763624 22.768 0.500654C22.77 0.500572 22.772 0.50049 22.7741 0.500409C22.7808 0.500141 22.7874 0.500005 22.7941 0.5",fill:"black"}),Ye=i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.7942 40.5C22.518 40.5 22.2942 40.2761 22.2942 40L22.2942 17.2634L16.2914 24.2666C16.1117 24.4762 15.7961 24.5005 15.5864 24.3208C15.3767 24.1411 15.3525 23.8254 15.5322 23.6158L22.4145 15.5864C22.5095 15.4755 22.6482 15.4118 22.7942 15.4118C22.9401 15.4118 23.0788 15.4755 23.1738 15.5864L30.0561 23.6158C30.2358 23.8254 30.2116 24.1411 30.0019 24.3208C29.7922 24.5005 29.4766 24.4762 29.2969 24.2666L23.2942 17.2634L23.2942 40C23.2942 40.2761 23.0703 40.5 22.7942 40.5Z",fill:"black"}),Ke=function(e){var n=e.svgRef,t=e.title,o=Ze(e,["svgRef","title"]);return i.a.createElement("svg",Ie({width:46,height:41,viewBox:"0 0 46 41",fill:"none",ref:n},o),t?i.a.createElement("title",null,t):null,We,Ye)},Ge=i.a.forwardRef((function(e,n){return i.a.createElement(Ke,Ie({svgRef:n},e))}));t.p;function qe(){return(qe=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function $e(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var en=i.a.createElement("defs",null,i.a.createElement("style",null,".cls-1{fill:none;stroke:#000;stroke-width:2px;}")),nn=i.a.createElement("polygon",{className:"cls-1",points:"12.34 9.08 12.34 39.03 38.07 24.06 12.34 9.08"}),tn=function(e){var n=e.svgRef,t=e.title,o=$e(e,["svgRef","title"]);return i.a.createElement("svg",qe({id:"Layer_1",viewBox:"0 0 48.11 48.11",ref:n},o),t?i.a.createElement("title",null,t):null,en,nn)},on=i.a.forwardRef((function(e,n){return i.a.createElement(tn,qe({svgRef:n},e))}));t.p;function rn(){var e=Object(re.a)(["\n  border-radius: 30px;\n  padding: "," 0px;\n  margin-bottom: ",";\n  display: flex;\n  flex-direction: column;\n  background: #eee;\n"]);return rn=function(){return e},e}function an(){var e=Object(re.a)(["\n  top: 50%;\n  margin-top: -200px;\n  position: absolute;\n  left: 15px;\n  margin-bottom: -126px;\n"]);return an=function(){return e},e}function cn(){var e=Object(re.a)([";\n  &.MuiIconButton-root {\n    position: absolute;\n    top: -65px;\n    background: #f44336;\n    color: #fff;\n    &:hover {\n      background: #d32f2f\n    }\n  }\n"]);return cn=function(){return e},e}function un(){var e=Object(re.a)(["\n  &.MuiIconButton-root {\n    background: transparent;\n    color: #fff;\n    svg {\n      fill: transparent;\n    }\n    &:active {\n      background: transparent;\n      svg {\n        fill: #000;\n      }\n    }\n  }\n"]);return un=function(){return e},e}var ln=Object(ae.a)(ve.a)(un()),sn=Object(ae.a)(ve.a)(cn()),dn=ae.a.div(an()),fn=ae.a.div(rn(),(function(e){return e.withoutExtraPadding?"0px":"10px"}),(function(e){return e.hasButtonOffset?"10px":"0"})),hn=function(e){var n=e.selectShape,t=e.isPlayMode,o=e.createFigure,a=e.removeFigure,c=e.openDownloadModal,u=e.openUploadModal,l=e.setPlayMode;return i.a.createElement(dn,null,!!n&&i.a.createElement(sn,{onClick:function(){return a(n)}},i.a.createElement(me.a,null)),i.a.createElement(fn,{hasButtonOffset:!0},i.a.createElement(ln,{onClick:function(){return o(r.rectangle)}},i.a.createElement(ge.a,{component:He,viewBox:"0 0 28 28",style:{padding:"1px",boxSizing:"border-box"}})),i.a.createElement(ln,{onClick:function(){return o(r.ellipse)}},i.a.createElement(ge.a,{component:je,viewBox:"0 0 32 31"})),i.a.createElement(ln,{onClick:function(){return o(r.blob)}},i.a.createElement(ge.a,{component:Le,viewBox:"0 0 42 40"})),i.a.createElement(ln,{onClick:function(){return o(r.polygon)}},i.a.createElement(ge.a,{component:Ne,viewBox:"0 0 44 42"}))),i.a.createElement(fn,{hasButtonOffset:!0},i.a.createElement(ln,{onClick:function(){return c()}},i.a.createElement(ge.a,{component:Qe,viewBox:"0 0 42 40",style:{fill:"transparent",padding:"1px",boxSizing:"border-box"}})),i.a.createElement(ln,{onClick:function(){return u()}},i.a.createElement(ge.a,{component:Ge,viewBox:"0 0 46 41",style:{fill:"transparent"}}))),i.a.createElement(fn,{withoutExtraPadding:!0},i.a.createElement(ve.a,{onClick:function(){return l(!t)}},!t&&i.a.createElement(ge.a,{component:on,viewBox:"0 0 48.11 48.11"}),t&&i.a.createElement(ye.a,{style:{color:"#000"}}))))},pn=function(){return{alpha:1,red:Math.round(255*Math.random()),green:Math.round(255*Math.random()),blue:Math.round(255*Math.random())}},vn={x:150,y:150},bn={width:200,height:200},mn=E.a.default.key,gn=function(e){return[r.ellipse,r.rectangle].includes(e)},wn=function(e){var n=new e.Color(255,255,255,1),t=e.view.bounds,o={width:t.width,height:t.height};return new Q(e,{id:"0000",type:r.rectangle,color:n,track:null,shapeScheme:{point:{x:0,y:0},size:o}})};function yn(){var e=Object(re.a)(["\n  width: 100%;\n  height: 100%;\n"]);return yn=function(){return e},e}function xn(){var e=Object(re.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  height: 100%;\n"]);return xn=function(){return e},e}var Mn=ae.a.div(xn());ae.a.div(yn());function On(){var e=Object(re.a)(["\n  width: 300px;\n  position: absolute;\n  top: 15px;\n  left: 15px;\n  input {\n    font-size: 20px;\n  }\n"]);return On=function(){return e},e}var Dn=ae.a.div(On());function jn(){var e=Object(re.a)(["\n  //width: 800px;\n  //height: 800px;\n  //pointer-events: none\n"]);return jn=function(){return e},e}var En=ae.a.div(jn()),kn=Object(a.memo)((function(e){var n=e.canvasRef;return i.a.createElement(En,null,i.a.createElement("canvas",{ref:n}))})),Cn=t(179);var zn=function(e){var n=Object(a.useRef)(e);n.current=e,Object(a.useEffect)((function(){var e=function(e){"Delete"!==e.code&&"Backspace"!==e.code||(0,n.current)()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[])},Nn=function(e){var n=e.title,t=e.shapeList,o=e.backgroundColor,c=e.isPlayMode,u=e.updateShapeList,f=e.updateBackgroundColor,h=e.updateTitle,p=e.openUploadModal,v=e.openDownloadModal,b=e.setPlayMode,w=Object(a.useState)(null),M=Object(l.a)(w,2),O=M[0],D=M[1],j=Object(a.useRef)(null),E=Object(a.useRef)([]);E.current=t;var k=Object(a.useMemo)((function(){return t.find((function(e){return e.id===O}))||null}),[O,t]),C=Object(a.useRef)(null),z=Object(a.useRef)(null),N=Object(a.useRef)([]),R=Object(a.useRef)(null),F=Object(a.useRef)(),_=Object(a.useRef)(null),S=Object(a.useCallback)((function(e){var n=E.current,t=n.findIndex((function(n){return n.id===e.id}));-1!==t&&u([].concat(Object(m.a)(n.slice(0,t)),[e],Object(m.a)(n.slice(t+1))))}),[u]),H=Object(a.useCallback)((function(){var e=C.current,n=R.current,t=F.current;if(e&&n&&t){var o=e.clientWidth,r=e.clientHeight;t.view.viewSize.width=o,t.view.viewSize.height=r,n.updateFromShapeData(Object(s.a)(Object(s.a)({},n.shapeData),{},{shapeScheme:Object(s.a)(Object(s.a)({},n.shapeData.shapeScheme),{},{size:{width:o,height:r}})})),t.view.update()}}),[]);Object(a.useEffect)((function(){if(!z.current)throw new Error("Expected canvas element missing");var e=new y.a.PaperScope;e.setup(z.current),F.current=e;var n=wn(e);n.isDisable=!0,R.current=n;var t=null,o=function(e){var n=E.current,t=n.findIndex((function(n){return n.id===e.id}));-1!==t&&u([].concat(Object(m.a)(n.slice(0,t)),[e],Object(m.a)(n.slice(t+1))))},r=function(e){var n,o;if(e.id!==(null===(n=R.current)||void 0===n?void 0:n.id)){var r=E.current,a=r.findIndex((function(n){return n.id===e.id}));-1!==a&&(u([].concat(Object(m.a)(r.slice(0,a)),Object(m.a)(r.slice(a+1)),[e])),(null===(o=t)||void 0===o?void 0:o.id)!==e.id&&D(e.id))}else D(null)},a=function(){var e;null===(e=_.current)||void 0===e||e.focus()},i=C.current;return window.addEventListener("resize",H),null===i||void 0===i||i.addEventListener("click",a),U.emitter.on("click",r),U.emitter.on("edited",o),function(){window.removeEventListener("resize",H),null===i||void 0===i||i.removeEventListener("click",a),U.emitter.off("click",r),U.emitter.on("edited",o)}}),[D,u,H]),Object(a.useEffect)((function(){if(!F.current)throw new Error("Expected scope missing");var e=function(e){return e.reduce((function(e,n){return Object(s.a)(Object(s.a)({},e),{},Object(g.a)({},n.id,n))}),{})}(N.current),n=F.current;N.current=[],t.forEach((function(t){var o=e[t.id];o?(o.updateFromShapeData(t),delete e[t.id]):o=function(e,n){switch(n.type){case r.rectangle:return new Q(e,n);case r.ellipse:return new J(e,n);case r.polygon:return new I(e,n);case r.blob:return new Z(e,n)}}(n,t),N.current.push(o),o.bringToFront()})),Object.values(e).forEach((function(e){e.remove()}))}),[t]),Object(a.useEffect)((function(){if(k){var e=N.current.find((function(e){return e.id===k.id}));e&&(N.current.forEach((function(e){return e.isActive=!1})),e.isActive=!0)}}),[k]),Object(a.useEffect)((function(){var e=R.current;e&&e.updateFromShapeData(Object(s.a)(Object(s.a)({},e.shapeData),{},{color:o}))}),[o]),Object(a.useEffect)((function(){N.current.forEach((function(e){return e.isPlayMode=c})),H(),D(null)}),[c,D,H]);var V=Object(a.useCallback)((function(){k&&(j.current=Object(s.a)({},k))}),[k]),T=Object(a.useCallback)((function(){if(j.current){var e=Object(s.a)(Object(s.a)({},j.current),{},{id:Object(d.a)()});D(e.id),u([].concat(Object(m.a)(E.current),[e]))}}),[u,D]);x(V,T),zn((function(){k&&L(k)}));var X=Object(a.useCallback)((function(e){var n,o=gn(e)?(n=e,{id:Object(d.a)(),type:n,track:{SoundPaletteKey:mn,soundPosition:[]},color:pn(),shapeScheme:{point:Object(s.a)({},vn),size:Object(s.a)({},bn)}}):function(e){for(var n=Object(s.a)({},vn),t=new y.a.Point(n),o=[],r=0;r<10;r++){var a=new y.a.Point({length:.5+.25*Math.random(),angle:36*r}),i=t.multiply(a),c=i.x,u=i.y,l=c+Math.floor(1.7*vn.x),f=u+Math.floor(1.7*vn.y);o.push({x:l,y:f})}return{id:Object(d.a)(),type:e,track:{SoundPaletteKey:mn,soundPosition:[]},color:pn(),shapeScheme:{points:o}}}(e);u([].concat(Object(m.a)(t),[o]))}),[t,u]),L=Object(a.useCallback)((function(e){var n=t.findIndex((function(n){return n.id===e.id}));-1!==n&&u([].concat(Object(m.a)(t.slice(0,n)),Object(m.a)(t.slice(n+1))))}),[t,u]),A=Object(a.useCallback)((function(e){k?S(Object(s.a)(Object(s.a)({},k),{},{color:e})):f(e)}),[k,f,S]),P=Object(a.useCallback)((function(e){k&&S(Object(s.a)(Object(s.a)({},k),{},{track:e}))}),[k,S]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Mn,{ref:C},i.a.createElement(Dn,null,i.a.createElement(Cn.a,{value:n,ref:_,placeholder:"Title",fullWidth:!0,onChange:function(e){return h(e.target.value)}})),i.a.createElement(hn,{selectShape:k,isPlayMode:c,createFigure:X,removeFigure:L,openDownloadModal:v,openUploadModal:p,setPlayMode:b}),i.a.createElement(kn,{canvasRef:z}),!c&&i.a.createElement(pe,{selectShape:k,background:o,onColorChange:A,onTrackChange:P})))},Rn=t(191),Fn=t(186),_n=t(187),Sn=t(155),Hn=t(190),Vn=t(192),Tn=t(195),Un=t(183),Xn=t(154),Ln=t(105);function An(){var e=Object(re.a)(["\n  padding: 40px 10px;\n  background: #f5f5f5;\n  border: 1px "," #717171;\n  outline: none;\n  cursor: pointer;\n"]);return An=function(){return e},e}var Pn=ae.a.div(An(),(function(e){return e.isActive?"dashed":"solid"})),Bn=function(e){var n=e.onLoaded,t=e.accept,o=Object(a.useCallback)((function(e){var t,o=e[0];(t=o,new Promise((function(e){var n=new FileReader;n.addEventListener("loadend",(function(){return e(n.result)})),n.readAsArrayBuffer(t)}))).then((function(e){n(e)}))}),[n]),r=Object(Ln.a)({multiple:!1,onDrop:o,accept:null!==t&&void 0!==t?t:void 0}),c=r.getRootProps,u=r.getInputProps,l=r.isDragActive;return i.a.createElement(Pn,Object.assign({},c(),{isActive:l}),i.a.createElement("input",u()),l?i.a.createElement(Xn.a,null,"Drop the files here ..."):i.a.createElement(Xn.a,null,"Drag and drop the file, or click to select"))};function Jn(){var e=Object(re.a)(["\n  &.MuiButton-root {\n    background: #fff;\n    color: #2f2f2f;\n    border: 1px solid #2f2f2f;\n    box-shadow: none;\n    &:hover {\n      background: #fff;\n      box-shadow: none;\n    }\n  }\n"]);return Jn=function(){return e},e}function Qn(){var e=Object(re.a)(["\n  .MuiRadio-colorSecondary.Mui-checked {\n    color: #4e4e4e;\n  }\n"]);return Qn=function(){return e},e}function In(){var e=Object(re.a)(["\n  width: 100%;\n  padding-bottom: 15px;\n"]);return In=function(){return e},e}function Zn(){var e=Object(re.a)(["\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  position: absolute;\n  width: 500px;\n  height: 500px;\n  background-color: #fff;\n  padding: 15px;\n  outline: none;\n"]);return Zn=function(){return e},e}var Wn=ae.a.div(Zn()),Yn=Object(ae.a)(Tn.a)(In()),Kn=Object(ae.a)(_n.a)(Qn()),Gn=Object(ae.a)(Un.a)(Jn()),qn=function(e){var n=e.isOpen,t=e.uploadMusicPaper,o=e.closeUploadModal,r=Object(a.useState)("file"),c=Object(l.a)(r,2),u=c[0],s=c[1],d=Object(a.useState)(""),f=Object(l.a)(d,2),h=f[0],p=f[1],b=Object(a.useCallback)((function(e){var n=new TextDecoder("utf-8").decode(e),o=v(n);t(o)}),[t]),m=Object(a.useCallback)((function(){var e=v(h);t(e)}),[h,t]),g=Object(a.useCallback)((function(e){s(e)}),[s]);return i.a.createElement(Rn.a,{open:n,onClose:o},i.a.createElement(Wn,null,i.a.createElement(Y.a,{sx:{m:2}},i.a.createElement(Fn.a,{component:"fieldset"},i.a.createElement(Sn.a,{component:"legend"}),i.a.createElement(Vn.a,{name:"uploadType",value:u,row:!0,onChange:function(e,n){return g(n)}},i.a.createElement(Kn,{value:"file",control:i.a.createElement(Hn.a,null),label:"Upload the file"}),i.a.createElement(Kn,{value:"dataString",control:i.a.createElement(Hn.a,null),label:"Paste data from the clipboard"})))),"file"===u&&i.a.createElement("div",{style:{margin:"0 15px"}},i.a.createElement(Bn,{onLoaded:b,accept:".json"})),"dataString"===u&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Y.a,{sx:{m:2}},i.a.createElement(Yn,{label:"Paste data from the clipboard",multiline:!0,rows:7,placeholder:"Paste data from the clipboard",value:h,onChange:function(e){return p(e.target.value)}})),i.a.createElement("div",{style:{margin:"0 15px"}},i.a.createElement(Gn,{variant:"contained",fullWidth:!0,disabled:h.length<=0,onClick:m},"Upload")))))},$n=function(e,n){var t=document.createElement("a");t.download=n;var o=URL.createObjectURL(e);t.href=o,document.body.appendChild(t),t.click(),setTimeout((function(){document.body.removeChild(t),window.URL.revokeObjectURL(o)}),0)};function et(){var e=Object(re.a)(["\n  &.MuiButton-root {\n    background: #fff;\n    color: #2f2f2f;\n    border: 1px solid #2f2f2f;\n    box-shadow: none;\n    &:hover {\n      background: #fff;\n      box-shadow: none;\n    }\n  }\n"]);return et=function(){return e},e}function nt(){var e=Object(re.a)(["\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  position: absolute;\n  width: 500px;\n  height: auto;\n  background-color: #fff;\n  padding: 15px;\n  outline: none;\n"]);return nt=function(){return e},e}var tt=ae.a.div(nt()),ot=Object(ae.a)(Un.a)(et()),rt=function(e){var n=e.isOpen,t=e.musicPaper,o=e.closeDownloadModal,r=Object(a.useMemo)((function(){return function(e){var n=Object(p.pack)(e);return Object(h.a)(n,!0)}(t)}),[t]),c=Object(a.useCallback)((function(){var e=new Blob([r],{type:"application/json"});$n(e,"".concat(t.title,".json"))}),[r,t]);return i.a.createElement(Rn.a,{open:n,onClose:o},i.a.createElement(tt,null,i.a.createElement(Y.a,{sx:{mb:2}},i.a.createElement(Tn.a,{label:"Copy data to the clipboard or export as a file",multiline:!0,rows:16,value:r,fullWidth:!0})),i.a.createElement(ot,{variant:"contained",fullWidth:!0,disabled:r.length<=0,onClick:c},"Export")))},at={alpha:1,green:255,red:255,blue:255},it=function(){var e=Object(a.useState)(!1),n=Object(l.a)(e,2),t=n[0],o=n[1],r=Object(a.useState)(!1),c=Object(l.a)(r,2),u=c[0],h=c[1],p={id:Object(d.a)(),title:"",version:"1.0.0",shapeList:[],backgroundColor:Object(s.a)({},at)},m=!1,g=b("work");g&&f[g]&&(p=v(f[g]),m=!0);var w=Object(a.useState)(p),y=Object(l.a)(w,2),x=y[0],M=y[1],O=Object(a.useState)(m),D=Object(l.a)(O,2),j=D[0],E=D[1];Object(a.useRef)(x).current=x;var k=Object(a.useCallback)((function(e){M(e),o(!1)}),[o,M]),C=Object(a.useCallback)((function(e){M((function(n){return Object(s.a)(Object(s.a)({},n),{},{shapeList:e})}))}),[M]),z=Object(a.useCallback)((function(e){M((function(n){return Object(s.a)(Object(s.a)({},n),{},{backgroundColor:e})}))}),[M]),N=Object(a.useCallback)((function(e){e.length>40||M((function(n){return Object(s.a)(Object(s.a)({},n),{},{title:e})}))}),[M]),R=Object(a.useCallback)((function(){o(!0)}),[o]),F=Object(a.useCallback)((function(){o(!1)}),[o]),_=Object(a.useCallback)((function(){h(!0)}),[h]),S=Object(a.useCallback)((function(){h(!1)}),[h]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Nn,{title:x.title,shapeList:x.shapeList,backgroundColor:x.backgroundColor,isPlayMode:j,openUploadModal:R,openDownloadModal:_,updateShapeList:C,updateBackgroundColor:z,updateTitle:N,setPlayMode:E}),i.a.createElement(qn,{isOpen:t,uploadMusicPaper:k,closeUploadModal:F}),i.a.createElement(rt,{isOpen:u,musicPaper:x,closeDownloadModal:S}))},ct=(t(150),t(151),function(){return i.a.createElement(it,null)}),ut=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,196)).then((function(n){var t=n.getCLS,o=n.getFID,r=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),o(e),r(e),a(e),i(e)}))};u.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(ct,null)),document.getElementById("root")),ut()},25:function(e,n,t){"use strict";var o={default:{key:"default",caption:"Xylophone",matrix:[[{nodeName:"a7",sound:"x3",color:"#EF56CE"},{nodeName:"a8",sound:"x2",color:"#EC3899"},{nodeName:"a9",sound:"x1",color:"#E91A64"}],[{nodeName:"a4",sound:"x6",color:"#F489D0"},{nodeName:"a5",sound:"x5",color:"#F064A5"},{nodeName:"a6",sound:"x4",color:"#EE3E7B"}],[{nodeName:"a1",sound:"x9",color:"#F9BBD2"},{nodeName:"a2",sound:"x8",color:"#F38FB2"},{nodeName:"a3",sound:"x7",color:"#F16294"}]]},extra:{key:"extra",caption:"Bass",matrix:[[{nodeName:"b7",sound:"b3",color:"#4470E0"},{nodeName:"b8",sound:"b2",color:"#2356AF"},{nodeName:"b9",sound:"b1",color:"#013B7D"}],[{nodeName:"b4",sound:"b6",color:"#56A4E3"},{nodeName:"b5",sound:"b5",color:"#2B84BD"},{nodeName:"b6",sound:"b4",color:"#006396"}],[{nodeName:"b1",sound:"b9",color:"#67D8E5"},{nodeName:"b2",sound:"b8",color:"#43BCD4"},{nodeName:"b3",sound:"b7",color:"#0090B5"}]]},bass:{key:"bass",caption:"Drum",matrix:[[{nodeName:"d7",sound:"d3",color:"#44B7AC"},{nodeName:"d8",sound:"d2",color:"#22A992"},{nodeName:"d9",sound:"d1",color:"#009A78"}],[{nodeName:"d4",sound:"d6",color:"#6FC5AD"},{nodeName:"d5",sound:"d5",color:"#38BC94"},{nodeName:"d6",sound:"d4",color:"#00B27A"}],[{nodeName:"d1",sound:"d9",color:"#99D3AD"},{nodeName:"d2",sound:"d8",color:"#70D09E"},{nodeName:"d3",sound:"d7",color:"#46CC8F"}]]},Mixed:{key:"Mixed",caption:"Mixed",matrix:[[{nodeName:"x7",sound:"a3",color:"#aaa3b1"},{nodeName:"x8",sound:"a2",color:"#b94eb2"},{nodeName:"x9",sound:"a1",color:"#c617b2"}],[{nodeName:"x4",sound:"a6",color:"#d89e81"},{nodeName:"x5",sound:"a5",color:"#e15c7f"},{nodeName:"x6",sound:"a4",color:"#df2a89"}],[{nodeName:"x1",sound:"a9",color:"#f9ce04"},{nodeName:"x2",sound:"a8",color:"#f87f2e"},{nodeName:"x3",sound:"a7",color:"#f6434c"}]]}};n.a=o},57:function(e,n,t){"use strict";n.a={x1:"./sounds/1 Xylophone.mp3",x2:"./sounds/2 Xylophone.mp3",x3:"./sounds/3 Xylophone.mp3",x4:"./sounds/4 Xylophone.mp3",x5:"./sounds/5 Xylophone.mp3",x6:"./sounds/6 Xylophone.mp3",x7:"./sounds/7 Xylophone.mp3",x8:"./sounds/8 Xylophone.mp3",x9:"./sounds/9 Xylophone.mp3",b1:"./sounds/1 Bass.mp3",b2:"./sounds/2 Bass.mp3",b3:"./sounds/3 Bass.mp3",b4:"./sounds/4 Bass.mp3",b5:"./sounds/5 Bass.mp3",b6:"./sounds/6 Bass.mp3",b7:"./sounds/7 Bass.mp3",b8:"./sounds/8 Bass.mp3",b9:"./sounds/9 Bass.mp3",d1:"./sounds/1 Drums.mp3",d2:"./sounds/2 Drums.mp3",d3:"./sounds/3 Drums.mp3",d4:"./sounds/4 Drums.mp3",d5:"./sounds/5 Drums.mp3",d6:"./sounds/6 Drums.mp3",d7:"./sounds/7 Drums.mp3",d8:"./sounds/8 Drums.mp3",d9:"./sounds/9 Drums.mp3",a1:"./sounds/1.mp3",a2:"./sounds/2.mp3",a3:"./sounds/3.mp3",a4:"./sounds/4.mp3",a5:"./sounds/5.mp3",a6:"./sounds/6.mp3",a7:"./sounds/7.mp3",a8:"./sounds/8.mp3",a9:"./sounds/10.mp3"}},58:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var o=t(17),r=t(18),a=t(99);var i=function(){function e(n){var t=this;Object(o.a)(this,e),this.soundMap=void 0,this.soundMap={},Object.keys(n).forEach((function(e){var o=n[e];t.soundMap[e]=new a.Howl({src:[o]})}))}return Object(r.a)(e,[{key:"playSong",value:function(e){var n=this,t=e.find((function(e){return!n.soundMap[e]}));if(t)throw new Error("Unexpended sound ".concat(t));!function e(n,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t[o];if(r){var a=n[r];a.once("end",(function(){e(n,t,o+1)})),a.play()}}(this.soundMap,e)}}]),e}()},93:function(e,n){},95:function(e,n,t){"use strict";var o=t(7),r=t(6),a=t(0),i=t.n(a),c=t(194),u=t(189),l=t(58),s=t(10),d=t(55),f=t(11);function h(){var e=Object(s.a)(["background: white"]);return h=function(){return e},e}function p(){var e=Object(s.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    width: 100%;\n    /* margin: 0 10px; */\n    box-sizing: border-box;\n    background-color: ",";\n    text-align: center;\n    cursor: pointer;\n    font-size: 12px;\n    ","\n    * {\n        font-size: 12px;\n    }\n"]);return p=function(){return e},e}function v(){var e=Object(s.a)(["\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    height: 100%;\n    /* margin: 10px 0; */\n"]);return v=function(){return e},e}function b(){var e=Object(s.a)(["\n    height: 100%;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 10px;\n"]);return b=function(){return e},e}var m=f.a.div(b()),g=f.a.div(v()),w=f.a.div(p(),(function(e){var n;return null!==(n=e.color)&&void 0!==n?n:"#eee"}),(function(e){return e.isSelect&&Object(d.a)(h())})),y=function(e){var n=e.matrix,t=e.activeCell,o=e.schemeKey,r=e.onToggleCell,c=Object(a.useMemo)((function(){var e=new Array(n.length).fill(null).map((function(e,n){return[n,{}]})),o=Object.fromEntries(e);return t.reduce((function(e,n,t){var o=n.x;return e[n.y][o]=t+1,e}),o)}),[t,n]),u=Object(a.useCallback)((function(e,n){return!!c[n][e]}),[c]),l=Object(a.useCallback)((function(e,n){r({x:e,y:n})}),[r]);return i.a.createElement(m,null,n.map((function(e,n){return i.a.createElement(g,{key:"".concat(o,"-").concat(n)},e.map((function(e,t){return i.a.createElement(w,{key:"".concat(o,"-").concat(n,":").concat(t),isSelect:u(t,n),color:e.color,onClick:function(){return l(t,n)}},e.nodeName)})))})))},x=t(25),M=t(57);function O(){var e=Object(s.a)(["\n  width: 240px;\n  height: 240px;\n"]);return O=function(){return e},e}var D=f.a.div(O()),j=t(183);function E(){var e=Object(s.a)(["\n  &.MuiButton-root {\n    background: #fff;\n    color: #2f2f2f;\n    border: 1px solid #2f2f2f;\n    box-shadow: none;\n    &:hover {\n      background: #fff;\n      box-shadow: none;\n    }\n  }\n"]);return E=function(){return e},e}var k=Object(f.a)(j.a)(E()),C=t(154),z=Object.keys(x.a).map((function(e){return x.a[e]})),N=x.a.default,R=function(){return{SoundPaletteKey:N.key,soundPosition:[]}};n.a=function(e){var n,t=e.track,s=e.onTrackChange,d=Object(a.useState)((null===t||void 0===t?void 0:t.SoundPaletteKey)||N.key),f=Object(r.a)(d,2),h=f[0],p=f[1],v=Object(a.useMemo)((function(){return new l.a(M.a)}),[]),b=Object(a.useCallback)((function(){var e=t||R(),n=e.SoundPaletteKey,o=e.soundPosition,r=x.a[n].matrix,a=o.map((function(e){var n=e.x,t=e.y;return r[n][t].sound}));v.playSong(a)}),[v,t]),m=Object(a.useCallback)((function(e){var n,r=t||R(),a=r.SoundPaletteKey,i=r.soundPosition,c=i.findIndex((function(n){return o=e,(t=n).x===o.x&&t.y===o.y;var t,o}));n=-1!==c?[].concat(Object(o.a)(i.slice(0,c)),Object(o.a)(i.slice(c+1))):[].concat(Object(o.a)(i),[e]),s({SoundPaletteKey:a,soundPosition:n})}),[t,s]),g=Object(a.useCallback)((function(e){s({SoundPaletteKey:e,soundPosition:[]}),p(e)}),[p,s]);return i.a.createElement(D,null,i.a.createElement(u.a,{value:h,onChange:function(e){return g(e.target.value)},fullWidth:!0},z.map((function(e){var n=e.caption,t=e.key;return i.a.createElement(c.a,{key:t,value:t},n)}))),i.a.createElement(y,{matrix:x.a[h].matrix,activeCell:null!==(n=null===t||void 0===t?void 0:t.soundPosition)&&void 0!==n?n:[],schemeKey:h,onToggleCell:m}),i.a.createElement(k,{onClick:b,color:"primary",variant:"contained",fullWidth:!0},"Play sound"),i.a.createElement("p",null),i.a.createElement("p",null),i.a.createElement("p",null," "),i.a.createElement(C.a,null,"  Each pallette includes 9 sounds of different complexity: the lightest colour block (1) is for the single sound and the darkesr/brightest (9) is for the most complex sound in the palette."))}}},[[123,1,2]]]);
//# sourceMappingURL=main.39ee8767.chunk.js.map